\hypertarget{classSMTP}{\section{S\+M\+T\+P类 参考}
\label{classSMTP}\index{S\+M\+T\+P@{S\+M\+T\+P}}
}
\subsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSMTP_a943dd07e8b4b4f928b9aa71073939e0f}{\+\_\+\+\_\+construct} ()
\item 
\hyperlink{classSMTP_a8fba663a06f03ca0ffb142d5e4141235}{Connect} (\$host, \$port=0, \$tval=30)
\item 
\hyperlink{classSMTP_a98589ff1441c3c227f6ed12baee8d0cd}{Start\+T\+L\+S} ()
\item 
\hyperlink{classSMTP_a09bed676e22ceb5b30f4b90b0cb8a321}{Authenticate} (\$username, \$password)
\item 
\hyperlink{classSMTP_a1b04ed74ebc02d0e04ab61933ec7089e}{Connected} ()
\item 
\hyperlink{classSMTP_a6a46029fbb02a0bdf9f4680d95589f26}{Close} ()
\item 
\hyperlink{classSMTP_a19b1e3858b6474cace472f85e5dd75e4}{Data} (\$msg\+\_\+data)
\item 
\hyperlink{classSMTP_a497ea40eb9c62b103228a1a4e3b3cdbd}{Hello} (\$host= '')
\item 
\hyperlink{classSMTP_ab1377e8100ab85ecd152992dbcff1990}{Mail} (\$from)
\item 
\hyperlink{classSMTP_a8d7a8c08be60eee2fdb11ace4577eae4}{Quit} (\$close\+\_\+on\+\_\+error=true)
\item 
\hyperlink{classSMTP_abad67dffc11da60d8be10bc1282d8107}{Recipient} (\$to)
\item 
\hyperlink{classSMTP_a32288c4664c4da18c2bde09c558527c3}{Reset} ()
\item 
\hyperlink{classSMTP_adf346869f30d1f09f5437cd0e039f2ca}{Send\+And\+Mail} (\$from)
\item 
\hyperlink{classSMTP_a00e2009833692aa235de5c26b835adc5}{Turn} ()
\item 
\hyperlink{classSMTP_ae69932e8666ab3e15c22ea4d9f03909f}{get\+Error} ()
\end{DoxyCompactItemize}
\subsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classSMTP_ab18d9e6b53ece65286ba6a83af7f9576}{{\bfseries \$\+S\+M\+T\+P\+\_\+\+P\+O\+R\+T} = 25}\label{classSMTP_ab18d9e6b53ece65286ba6a83af7f9576}

\item 
\hypertarget{classSMTP_ab92088467c740f1c76ef8a54c30bd955}{{\bfseries \$\+C\+R\+L\+F} = \char`\"{}\textbackslash{}r\textbackslash{}n\char`\"{}}\label{classSMTP_ab92088467c740f1c76ef8a54c30bd955}

\item 
\hypertarget{classSMTP_aecf5a15107efffb004210746eb3e58bf}{{\bfseries \$do\+\_\+debug}}\label{classSMTP_aecf5a15107efffb004210746eb3e58bf}

\item 
\hypertarget{classSMTP_ac682fd7712ecbd5f11917c99d173de43}{{\bfseries \$do\+\_\+verp} = false}\label{classSMTP_ac682fd7712ecbd5f11917c99d173de43}

\end{DoxyCompactItemize}


\subsection{详细描述}
\hyperlink{classSMTP}{S\+M\+T\+P} is rfc 821 compliant and implements all the rfc 821 \hyperlink{classSMTP}{S\+M\+T\+P} commands except T\+U\+R\+N which will always return a not implemented error. \hyperlink{classSMTP}{S\+M\+T\+P} also provides some utility methods for sending mail to an \hyperlink{classSMTP}{S\+M\+T\+P} server. original author\+: Chris Ryan 

\subsection{构造及析构函数说明}
\hypertarget{classSMTP_a943dd07e8b4b4f928b9aa71073939e0f}{\index{S\+M\+T\+P@{S\+M\+T\+P}!\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}}
\index{\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{\+\_\+\+\_\+construct}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+\_\+\+\_\+construct (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSMTP_a943dd07e8b4b4f928b9aa71073939e0f}
Initialize the class so that the data is in a known state.  public \begin{DoxyReturn}{返回}
void 
\end{DoxyReturn}


\subsection{成员函数说明}
\hypertarget{classSMTP_a09bed676e22ceb5b30f4b90b0cb8a321}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Authenticate@{Authenticate}}
\index{Authenticate@{Authenticate}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Authenticate}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Authenticate (
\begin{DoxyParamCaption}
\item[{}]{\$username, }
\item[{}]{\$password}
\end{DoxyParamCaption}
)}}\label{classSMTP_a09bed676e22ceb5b30f4b90b0cb8a321}
Performs \hyperlink{classSMTP}{S\+M\+T\+P} authentication. Must be run after running the \hyperlink{classSMTP_a497ea40eb9c62b103228a1a4e3b3cdbd}{Hello()} method. Returns true if successfully authenticated.  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_a6a46029fbb02a0bdf9f4680d95589f26}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Close@{Close}}
\index{Close@{Close}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Close}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Close (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSMTP_a6a46029fbb02a0bdf9f4680d95589f26}
Closes the socket and cleans up the state of the class. It is not considered good to use this function without first trying to use Q\+U\+I\+T.  public \begin{DoxyReturn}{返回}
void 
\end{DoxyReturn}


参考自 Connected() , 以及 Quit().

\hypertarget{classSMTP_a8fba663a06f03ca0ffb142d5e4141235}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Connect@{Connect}}
\index{Connect@{Connect}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Connect}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Connect (
\begin{DoxyParamCaption}
\item[{}]{\$host, }
\item[{}]{\$port = {\ttfamily 0}, }
\item[{}]{\$tval = {\ttfamily 30}}
\end{DoxyParamCaption}
)}}\label{classSMTP_a8fba663a06f03ca0ffb142d5e4141235}
Connect to the server specified on the port specified. If the port is not specified use the default S\+M\+T\+P\+\_\+\+P\+O\+R\+T. If tval is specified then a connection will try and be established with the server for that number of seconds. If tval is not specified the default is 30 seconds to try on the connection.

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 220 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E F\+A\+I\+L\+U\+R\+E\+: 421  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_a1b04ed74ebc02d0e04ab61933ec7089e}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Connected@{Connected}}
\index{Connected@{Connected}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Connected}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Connected (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSMTP_a1b04ed74ebc02d0e04ab61933ec7089e}
Returns true if connected to a server otherwise false  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_a19b1e3858b6474cace472f85e5dd75e4}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Data@{Data}}
\index{Data@{Data}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Data}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Data (
\begin{DoxyParamCaption}
\item[{}]{\$msg\+\_\+data}
\end{DoxyParamCaption}
)}}\label{classSMTP_a19b1e3858b6474cace472f85e5dd75e4}
Issues a data command and sends the msg\+\_\+data to the server finializing the mail transaction. \$msg\+\_\+data is the message that is to be send with the headers. Each header needs to be on a single line followed by a $<$\+C\+R\+L\+F$>$ with the message headers and the message body being seperated by and additional $<$\+C\+R\+L\+F$>$.

Implements rfc 821\+: D\+A\+T\+A $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E I\+N\+T\+E\+R\+M\+E\+D\+I\+A\+T\+E\+: 354 \mbox{[}data\mbox{]} $<$\+C\+R\+L\+F$>$.$<$\+C\+R\+L\+F$>$ \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 250 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E F\+A\+I\+L\+U\+R\+E\+: 552,554,451,452 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E F\+A\+I\+L\+U\+R\+E\+: 451,554 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E E\+R\+R\+O\+R \+: 500,501,503,421  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_ae69932e8666ab3e15c22ea4d9f03909f}{\index{S\+M\+T\+P@{S\+M\+T\+P}!get\+Error@{get\+Error}}
\index{get\+Error@{get\+Error}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{get\+Error}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::get\+Error (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSMTP_ae69932e8666ab3e15c22ea4d9f03909f}
Get the current error  public \begin{DoxyReturn}{返回}
array 
\end{DoxyReturn}
\hypertarget{classSMTP_a497ea40eb9c62b103228a1a4e3b3cdbd}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Hello@{Hello}}
\index{Hello@{Hello}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Hello}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Hello (
\begin{DoxyParamCaption}
\item[{}]{\$host = {\ttfamily ''}}
\end{DoxyParamCaption}
)}}\label{classSMTP_a497ea40eb9c62b103228a1a4e3b3cdbd}
Sends the H\+E\+L\+O command to the smtp server. This makes sure that we and the server are in the same known state.

Implements from rfc 821\+: H\+E\+L\+O $<$\+S\+P$>$ $<$domain$>$ $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 250 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E E\+R\+R\+O\+R \+: 500, 501, 504, 421  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_ab1377e8100ab85ecd152992dbcff1990}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Mail@{Mail}}
\index{Mail@{Mail}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Mail}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Mail (
\begin{DoxyParamCaption}
\item[{}]{\$from}
\end{DoxyParamCaption}
)}}\label{classSMTP_ab1377e8100ab85ecd152992dbcff1990}
Starts a mail transaction from the email address specified in \$from. Returns true if successful or false otherwise. If True the mail transaction is started and then one or more Recipient commands may be called followed by a Data command.

Implements rfc 821\+: M\+A\+I\+L $<$\+S\+P$>$ F\+R\+O\+M\+:$<$reverse-\/path$>$ $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 250 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 552,451,452 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 500,501,421  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_a8d7a8c08be60eee2fdb11ace4577eae4}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Quit@{Quit}}
\index{Quit@{Quit}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Quit}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Quit (
\begin{DoxyParamCaption}
\item[{}]{\$close\+\_\+on\+\_\+error = {\ttfamily true}}
\end{DoxyParamCaption}
)}}\label{classSMTP_a8d7a8c08be60eee2fdb11ace4577eae4}
Sends the quit command to the server and then closes the socket if there is no error or the \$close\+\_\+on\+\_\+error argument is true.

Implements from rfc 821\+: Q\+U\+I\+T $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 221 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E E\+R\+R\+O\+R \+: 500  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_abad67dffc11da60d8be10bc1282d8107}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Recipient@{Recipient}}
\index{Recipient@{Recipient}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Recipient}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Recipient (
\begin{DoxyParamCaption}
\item[{}]{\$to}
\end{DoxyParamCaption}
)}}\label{classSMTP_abad67dffc11da60d8be10bc1282d8107}
Sends the command R\+C\+P\+T to the \hyperlink{classSMTP}{S\+M\+T\+P} server with the T\+O\+: argument of \$to. Returns true if the recipient was accepted false if it was rejected.

Implements from rfc 821\+: R\+C\+P\+T $<$\+S\+P$>$ T\+O\+:$<$forward-\/path$>$ $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 250,251 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E F\+A\+I\+L\+U\+R\+E\+: 550,551,552,553,450,451,452 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E E\+R\+R\+O\+R \+: 500,501,503,421  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_a32288c4664c4da18c2bde09c558527c3}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Reset@{Reset}}
\index{Reset@{Reset}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Reset}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Reset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSMTP_a32288c4664c4da18c2bde09c558527c3}
Sends the R\+S\+E\+T command to abort and transaction that is currently in progress. Returns true if successful false otherwise.

Implements rfc 821\+: R\+S\+E\+T $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 250 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E E\+R\+R\+O\+R \+: 500,501,504,421  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_adf346869f30d1f09f5437cd0e039f2ca}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Send\+And\+Mail@{Send\+And\+Mail}}
\index{Send\+And\+Mail@{Send\+And\+Mail}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Send\+And\+Mail}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Send\+And\+Mail (
\begin{DoxyParamCaption}
\item[{}]{\$from}
\end{DoxyParamCaption}
)}}\label{classSMTP_adf346869f30d1f09f5437cd0e039f2ca}
Starts a mail transaction from the email address specified in \$from. Returns true if successful or false otherwise. If True the mail transaction is started and then one or more Recipient commands may be called followed by a Data command. This command will send the message to the users terminal if they are logged in and send them an email.

Implements rfc 821\+: S\+A\+M\+L $<$\+S\+P$>$ F\+R\+O\+M\+:$<$reverse-\/path$>$ $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 250 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 552,451,452 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 500,501,502,421  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}
\hypertarget{classSMTP_a98589ff1441c3c227f6ed12baee8d0cd}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Start\+T\+L\+S@{Start\+T\+L\+S}}
\index{Start\+T\+L\+S@{Start\+T\+L\+S}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Start\+T\+L\+S}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Start\+T\+L\+S (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSMTP_a98589ff1441c3c227f6ed12baee8d0cd}
Initiate a T\+L\+S communication with the server.

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E 220 Ready to start T\+L\+S \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E 501 Syntax error (no parameters allowed) \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E 454 T\+L\+S not available due to temporary reason  public \begin{DoxyReturn}{返回}
bool success 
\end{DoxyReturn}
\hypertarget{classSMTP_a00e2009833692aa235de5c26b835adc5}{\index{S\+M\+T\+P@{S\+M\+T\+P}!Turn@{Turn}}
\index{Turn@{Turn}!S\+M\+T\+P@{S\+M\+T\+P}}
\subsubsection[{Turn}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+T\+P\+::\+Turn (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classSMTP_a00e2009833692aa235de5c26b835adc5}
This is an optional command for \hyperlink{classSMTP}{S\+M\+T\+P} that this class does not support. This method is here to make the R\+F\+C821 Definition complete for this class and {\bfseries may} be implimented in the future

Implements from rfc 821\+: T\+U\+R\+N $<$\+C\+R\+L\+F$>$

\hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E S\+U\+C\+C\+E\+S\+S\+: 250 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E F\+A\+I\+L\+U\+R\+E\+: 502 \hyperlink{classSMTP}{S\+M\+T\+P} C\+O\+D\+E E\+R\+R\+O\+R \+: 500, 503  public \begin{DoxyReturn}{返回}
bool 
\end{DoxyReturn}


该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
framework/lib/vendor/email/S\+M\+T\+P.\+class.\+php\end{DoxyCompactItemize}
